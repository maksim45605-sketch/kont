<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knot - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîó</text></svg>">
</head>
<body>
    <!-- –≠–ö–†–ê–ù –í–•–û–î–ê -->
    <div id="login-screen">
        <div class="login-background"></div>
        
        <div class="login-container">
            <div class="login-logo">
                <div class="logo-icon">üîó</div>
                <div class="logo-text">KNOT</div>
                <div class="logo-tagline">–°–≤—è–∑—ã–≤–∞–µ–º –ª—é–¥–µ–π –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É</div>
            </div>
            
            <div class="login-card">
                <div class="login-tabs">
                    <div class="login-tab active" onclick="switchLoginTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
                    <div class="login-tab" onclick="switchLoginTab('login')">–í—Ö–æ–¥</div>
                </div>
                
                <div id="register-form" class="login-form active">
                    <div class="form-group">
                        <label class="form-label">–ò–º—è</label>
                        <input type="text" id="register-firstname" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–§–∞–º–∏–ª–∏—è</label>
                        <input type="text" id="register-lastname" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é">
                    </div>
                    <div class="form-group">
                        <label class="form-label">@username</label>
                        <input type="text" id="register-username" class="form-input" placeholder="@username" oninput="checkUsername()">
                        <div id="username-status" style="font-size: 12px; margin-top: 5px;"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è (URL)</label>
                        <input type="text" id="register-avatar" class="form-input" placeholder="https://example.com/photo.jpg">
                    </div>
                    <button class="login-btn" onclick="register()">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                </div>
                
                <div id="login-form" class="login-form">
                    <div class="form-group">
                        <label class="form-label">@username</label>
                        <input type="text" id="login-username" class="form-input" placeholder="@username">
                    </div>
                    <div class="form-group">
                        <label class="form-label">–ò–º—è</label>
                        <input type="text" id="login-name" class="form-input" placeholder="–í–∞—à–µ –∏–º—è –¥–ª—è –≤—Ö–æ–¥–∞">
                    </div>
                    <button class="login-btn" onclick="login()">–í–æ–π—Ç–∏ –≤ Knot</button>
                </div>
            </div>
        </div>
        
        <div class="features-showcase">
            <h2>–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ Knot</h2>
            <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">üéÅ</div>
                    <h4>–ü–æ–¥–∞—Ä–∫–∏ –∏ –ø–∞–∫–∏</h4>
                    <p>–î–∞—Ä–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ —Å —Ä–µ–∞–∫—Ü–∏—è–º–∏</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ü§ñ</div>
                    <h4>–ë–æ—Ç—ã –∏ —Å—Ç–∏–∫–µ—Ä—ã</h4>
                    <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å—Ç–∏–∫–µ—Ä—ã –∏–∑ —Ñ–æ—Ç–æ</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üëë</div>
                    <h4>–ü—Ä–µ–º–∏—É–º —Å—Ç–∞—Ç—É—Å</h4>
                    <p>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîê</div>
                    <h4>–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è</h4>
                    <p>–ì–∞–ª–æ—á–∫–∞ –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –û–°–ù–û–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï -->
    <div id="app-container">
        <div class="messenger">
            <!-- –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
            <div class="sidebar">
                <div class="top-bar">
                    <div class="user-menu" onclick="openWindow('profile-window')">
                        <div class="user-avatar" id="current-user-avatar">?</div>
                        <div>
                            <div id="current-user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                            <div id="current-user-status">–æ–Ω–ª–∞–π–Ω</div>
                        </div>
                    </div>
                    <div class="stars-display">
                        <i class="fas fa-star"></i>
                        <span id="user-stars">0</span>
                    </div>
                </div>
                
                <div class="search-container">
                    <input type="text" class="search-input" id="global-search" placeholder="–ü–æ–∏—Å–∫...">
                </div>
                
                <div class="sidebar-tabs">
                    <div class="sidebar-tab active" onclick="switchTab('chats')">–ß–∞—Ç—ã</div>
                    <div class="sidebar-tab" onclick="switchTab('contacts')">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                    <div class="sidebar-tab" onclick="switchTab('groups')">–ì—Ä—É–ø–ø—ã</div>
                    <div class="sidebar-tab" onclick="switchTab('channels')">–ö–∞–Ω–∞–ª—ã</div>
                </div>
                
                <div class="items-list" id="items-list"></div>
                
                <div class="sidebar-footer">
                    <button class="create-chat-btn" onclick="openWindow('create-chat-window')">
                        <i class="fas fa-plus"></i> –°–æ–∑–¥–∞—Ç—å —á–∞—Ç
                    </button>
                </div>
            </div>
            
            <!-- –û–°–ù–û–í–ù–û–ô –ß–ê–¢ -->
            <div class="chat-area" id="chat-area">
                <div class="chat-header">
                    <div class="chat-info">
                        <div class="user-avatar" id="chat-user-avatar">?</div>
                        <div>
                            <div id="chat-name">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</div>
                            <div id="chat-status"></div>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <button class="chat-btn" onclick="openWindow('chat-info-window')" title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">
                            <i class="fas fa-info-circle"></i>
                        </button>
                        <button class="chat-btn" onclick="toggleStickerPicker()" title="–°—Ç–∏–∫–µ—Ä—ã">
                            <i class="far fa-smile"></i>
                        </button>
                        <button class="chat-btn" onclick="openWindow('gift-window')" title="–ü–æ–¥–∞—Ä–æ–∫">
                            <i class="fas fa-gift"></i>
                        </button>
                        <button class="chat-btn" onclick="openWindow('bot-window')" title="–ë–æ—Ç">
                            <i class="fas fa-robot"></i>
                        </button>
                    </div>
                </div>
                
                <div class="messages-container" id="messages-container"></div>
                
                <div class="input-container">
                    <div class="input-actions">
                        <button class="input-btn" onclick="openFilePicker()" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <button class="input-btn" onclick="attachPhoto()" title="–§–æ—Ç–æ">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                    <div class="message-input-wrapper">
                        <textarea class="message-input" id="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
                    </div>
                    <button class="send-button" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <div class="sticker-picker" id="sticker-picker">
                    <div class="sticker-item" onclick="sendSticker('üòä')">üòä</div>
                    <div class="sticker-item" onclick="sendSticker('üòÇ')">üòÇ</div>
                    <div class="sticker-item" onclick="sendSticker('ü•∫')">ü•∫</div>
                    <div class="sticker-item" onclick="sendSticker('‚ù§Ô∏è')">‚ù§Ô∏è</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –û–ö–ù–ê -->
    <div class="overlay" id="overlay"></div>
    
    <!-- –û–ö–ù–û –ü–†–û–§–ò–õ–Ø -->
    <div class="window" id="profile-window">
        <div class="window-header">
            <h2>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
            <button class="close-window" onclick="closeWindow('profile-window')">‚úï</button>
        </div>
        <div class="window-content">
            <div class="profile-avatar-section">
                <div class="user-avatar" id="profile-avatar-preview">
                    <span id="profile-avatar-text">?</span>
                </div>
                <button class="upload-avatar-btn" onclick="changeAvatar()">–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ</button>
            </div>
            
            <div class="form-group">
                <label class="form-label">–ò–º—è</label>
                <input type="text" id="profile-firstname" class="form-input">
            </div>
            <div class="form-group">
                <label class="form-label">–§–∞–º–∏–ª–∏—è</label>
                <input type="text" id="profile-lastname" class="form-input">
            </div>
            <div class="form-group">
                <label class="form-label">URL —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</label>
                <input type="text" id="profile-avatar-url" class="form-input" placeholder="https://...">
            </div>
            
            <button class="save-btn" onclick="saveProfile()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>
    </div>
    
    <!-- –û–ö–ù–û –°–û–ó–î–ê–ù–ò–Ø –ß–ê–¢–ê -->
    <div class="window" id="create-chat-window">
        <div class="window-header">
            <h2>–°–æ–∑–¥–∞—Ç—å —á–∞—Ç</h2>
            <button class="close-window" onclick="closeWindow('create-chat-window')">‚úï</button>
        </div>
        <div class="window-content">
            <div class="form-group">
                <label class="form-label">–¢–∏–ø —á–∞—Ç–∞</label>
                <select id="chat-type" class="form-input" onchange="toggleChatType()">
                    <option value="contact">–õ–∏—á–Ω—ã–π —á–∞—Ç</option>
                    <option value="group">–ì—Ä—É–ø–ø–∞</option>
                    <option value="channel">–ö–∞–Ω–∞–ª</option>
                </select>
            </div>
            
            <div id="contact-options">
                <div class="form-group">
                    <label class="form-label">@username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="contact-username" class="form-input" placeholder="@username">
                </div>
            </div>
            
            <div id="group-options" style="display: none;">
                <div class="form-group">
                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</label>
                    <input type="text" id="group-name" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
                </div>
                <div class="form-group">
                    <label class="form-label">–£—á–∞—Å—Ç–Ω–∏–∫–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                    <input type="text" id="group-members" class="form-input" placeholder="@user1, @user2">
                </div>
            </div>
            
            <div id="channel-options" style="display: none;">
                <div class="form-group">
                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞</label>
                    <input type="text" id="channel-name" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
                </div>
                <div class="form-group">
                    <label class="form-label">@username –∫–∞–Ω–∞–ª–∞</label>
                    <input type="text" id="channel-username" class="form-input" placeholder="@channelname">
                </div>
            </div>
            
            <button class="login-btn" style="width: 100%;" onclick="createChat()">–°–æ–∑–¥–∞—Ç—å</button>
        </div>
    </div>
    
    <!-- –û–ö–ù–û –ü–û–î–ê–†–ö–û–í -->
    <div class="window" id="gift-window">
        <div class="window-header">
            <h2>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫</h2>
            <button class="close-window" onclick="closeWindow('gift-window')">‚úï</button>
        </div>
        <div class="window-content">
            <div class="gifts-grid" id="gifts-grid"></div>
            <button class="send-gift-btn" onclick="sendGift()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫</button>
        </div>
    </div>
    
    <!-- –û–ö–ù–û –ë–û–¢–ê -->
    <div class="window" id="bot-window">
        <div class="window-header">
            <h2>ü§ñ –ë–æ—Ç —Å—Ç–∏–∫–µ—Ä–æ–≤</h2>
            <button class="close-window" onclick="closeWindow('bot-window')">‚úï</button>
        </div>
        <div class="window-content">
            <div class="bot-info">
                <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: <code>!—Å—Ç–∏–∫–µ—Ä [—Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–æ—Ç–æ] [–Ω–∞–∑–≤–∞–Ω–∏–µ]</code></p>
                <p>–ü—Ä–∏–º–µ—Ä: <code>!—Å—Ç–∏–∫–µ—Ä https://example.com/cat.jpg –ö–æ—Ç–∏–∫</code></p>
                <p style="margin-top: 20px;">–ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∏–∫–µ—Ä–æ–≤:</p>
            </div>
            <div style="border: 2px dashed var(--bg-tertiary); border-radius: 15px; padding: 30px; text-align: center; cursor: pointer; margin: 20px 0;"
                 onclick="document.getElementById('bot-photo-input').click()">
                <i class="fas fa-cloud-upload-alt" style="font-size: 40px; color: var(--text-secondary); margin-bottom: 10px;"></i>
                <p style="color: var(--text-secondary);">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ</p>
            </div>
            <input type="file" id="bot-photo-input" accept="image/*" style="display: none;">
        </div>
    </div>
    
    <!-- –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø -->
    <div class="notification" id="notification"></div>
    
    <!-- –°–ö–†–´–¢–´–ï INPUT –î–õ–Ø –§–ê–ô–õ–û–í -->
    <input type="file" id="file-input" style="display: none;" accept="image/*">
    <input type="file" id="avatar-input" style="display: none;" accept="image/*">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
